{
  "name": "invalid_data_recovery_test",
  "fiware-service": "test",
  "fiware-servicepath": "/errortest",
  "subscriptions": {
    "historic": {
      "description": "ErrorRecovery:HISTORIC:invalid:historic",
      "status": "active",
      "subject": {
        "entities": [
          {
            "idPattern": ".*",
            "type": "ErrorSensor"
          }
        ],
        "condition": {
          "attrs": [
            "TimeInstant"
          ]
        }
      },
      "notification": {
        "kafkaCustom": {
          "url": "kafka://kafka:9092",
          "topic": "raw_historic"
        },
        "attrs": [
          "TimeInstant",
          "temperature",
          "status"
        ]
      }
    },
    "lastdata": {
      "description": "ErrorRecovery:LASTDATA:invalid:lastdata",
      "status": "active",
      "subject": {
        "entities": [
          {
            "idPattern": ".*",
            "type": "ErrorSensor"
          }
        ],
        "condition": {
          "attrs": [
            "TimeInstant"
          ]
        }
      },
      "notification": {
        "kafkaCustom": {
          "url": "kafka://kafka:9092",
          "topic": "raw_lastdata"
        },
        "attrs": [
          "TimeInstant",
          "temperature",
          "status"
        ]
      }
    },
    "mutable": {
      "description": "ErrorRecovery:MUTABLE:invalid:mutable",
      "status": "active",
      "subject": {
        "entities": [
          {
            "idPattern": ".*",
            "type": "ErrorSensor"
          }
        ],
        "condition": {
          "attrs": [
            "TimeInstant"
          ]
        }
      },
      "notification": {
        "kafkaCustom": {
          "url": "kafka://kafka:9092",
          "topic": "raw_mutable"
        },
        "attrs": [
          "TimeInstant",
          "temperature",
          "status"
        ]
      }
    }
  },
  "updateEntities": [
    {
      "id": "ValidSensor001",
      "type": "ErrorSensor",
      "TimeInstant": {
        "type": "DateTime",
        "value": "2025-06-26T09:00:00Z"
      },
      "temperature": {"value": 20.5, "type": "Float"},
      "status": {"value": "OK", "type": "Text"}
    },
    {
      "id": "ValidSensor002",
      "type": "ErrorSensor",
      "TimeInstant": {
        "type": "DateTime",
        "value": "2025-06-26T09:00:00Z"
      },
      "temperature": {"value": 21.8, "type": "Float"},
      "status": {"value": "OK", "type": "Text"}
    },
    {
      "id": "ValidSensor001",
      "type": "ErrorSensor",
      "TimeInstant": {
        "type": "DateTime",
        "value": "2025-06-26T09:05:00Z"
      },
      "temperature": {"value": 20.8, "type": "Float"},
      "status": {"value": "OK", "type": "Text"}
    },
    {
      "id": "ValidSensor002",
      "type": "ErrorSensor",
      "TimeInstant": {
        "type": "DateTime",
        "value": "2025-06-26T09:05:00Z"
      },
      "temperature": {"value": 22.1, "type": "Float"},
      "status": {"value": "OK", "type": "Text"}
    }
  ]
}