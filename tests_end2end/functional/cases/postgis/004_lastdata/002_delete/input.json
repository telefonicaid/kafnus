{
  "name": "delete_test_case",
  "fiware-service": "test",
  "fiware-servicepath": "/delete",
  "subscriptions": {
    "lastdata": {
      "description": "Sensor:LASTDATA:delete:lastdata",
      "status": "active",
      "subject": {
        "entities": [
          {
            "idPattern": ".*",
            "type": "Sensor"
          }
        ],
        "condition": {
          "attrs": [
            "TimeInstant"
          ],
          "alterationTypes": [
            "entityUpdate",
            "entityCreate",
            "entityDelete"
          ]
        }
      },
      "notification": {
        "kafkaCustom": {
          "url": "kafka://kafka:29092",
          "topic": "raw_lastdata"
        },
        "attrs": [
          "TimeInstant",
          "temperature",
          "alterationType"
        ]
      }
    }
  },
  "updateEntities": [
    {
      "id": "Sensor1",
      "type": "Sensor",
      "TimeInstant": {
        "type": "DateTime",
        "value": "2025-06-26T11:00:00Z"
      },
      "temperature": {"value": 21.0, "type": "Float"}
    },
    {
      "id": "Sensor2",
      "type": "Sensor",
      "TimeInstant": {
        "type": "DateTime",
        "value": "2025-06-26T12:00:00Z"
      },
      "temperature": {"value": 22.0, "type": "Float"}
    }
  ],
  "deleteEntities": [
    {
      "id": "Sensor1",
      "type": "Sensor"
    }
  ]
}
